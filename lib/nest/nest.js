"use strict";
var shortid = require("shortid");
/**
 * A nest is a resource that holds or produces jobs.
 */
var Nest = (function () {
    function Nest(e, name) {
        this.e = e;
        this.id = shortid.generate();
        this.name = name;
    }
    Nest.prototype.getId = function () {
        return this.id;
    };
    Nest.prototype.toString = function () {
        return "Nest";
    };
    Nest.prototype.getName = function () {
        return this.name;
    };
    Nest.prototype.getTunnel = function () {
        return this.tunnel;
    };
    Nest.prototype.register = function (tunnel) {
        this.tunnel = tunnel;
    };
    Nest.prototype.arrive = function (job) {
        var ns = this;
        ns.e.log(1, "Job \"" + job.getName() + "\" arrived in Nest \"" + ns.name + "\".", ns);
        job.setTunnel(ns.tunnel);
        job.setNest(ns);
        ns.tunnel.arrive(job, ns);
    };
    return Nest;
}());
exports.Nest = Nest;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9uZXN0L25lc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUlBLElBQVEsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUVyQzs7R0FFRztBQUNIO0lBT0ksY0FBWSxDQUFjLEVBQUUsSUFBWTtRQUNwQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxvQkFBSyxHQUFaO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVNLHVCQUFRLEdBQWY7UUFDSSxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFTSxzQkFBTyxHQUFkO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVNLHdCQUFTLEdBQWhCO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVNLHVCQUFRLEdBQWYsVUFBZ0IsTUFBYztRQUMxQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRU0scUJBQU0sR0FBYixVQUFjLEdBQVE7UUFDbEIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ2QsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFdBQVEsR0FBRyxDQUFDLE9BQU8sRUFBRSw2QkFBc0IsRUFBRSxDQUFDLElBQUksUUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pCLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzlCLENBQUM7SUFDTCxXQUFDO0FBQUQsQ0F4Q0EsQUF3Q0MsSUFBQTtBQXhDcUIsWUFBSSxPQXdDekIsQ0FBQSIsImZpbGUiOiJsaWIvbmVzdC9uZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHVubmVsIH0gZnJvbSBcIi4uL3R1bm5lbC90dW5uZWxcIjtcbmltcG9ydCB7IEpvYiB9IGZyb20gXCIuLi9qb2Ivam9iXCI7XG5pbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuLi9lbnZpcm9ubWVudC9lbnZpcm9ubWVudFwiO1xuXG5jb25zdCAgIHNob3J0aWQgPSByZXF1aXJlKFwic2hvcnRpZFwiKTtcblxuLyoqXG4gKiBBIG5lc3QgaXMgYSByZXNvdXJjZSB0aGF0IGhvbGRzIG9yIHByb2R1Y2VzIGpvYnMuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOZXN0IHtcblxuICAgIHByb3RlY3RlZCBpZDogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBuYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIHR1bm5lbDogVHVubmVsO1xuICAgIHByb3RlY3RlZCBlOiBFbnZpcm9ubWVudDtcblxuICAgIGNvbnN0cnVjdG9yKGU6IEVudmlyb25tZW50LCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5lID0gZTtcbiAgICAgICAgdGhpcy5pZCA9IHNob3J0aWQuZ2VuZXJhdGUoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiTmVzdFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUdW5uZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR1bm5lbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXIodHVubmVsOiBUdW5uZWwpIHtcbiAgICAgICAgdGhpcy50dW5uZWwgPSB0dW5uZWw7XG4gICAgfVxuXG4gICAgcHVibGljIGFycml2ZShqb2I6IEpvYikge1xuICAgICAgICBsZXQgbnMgPSB0aGlzO1xuICAgICAgICBucy5lLmxvZygxLCBgSm9iIFwiJHtqb2IuZ2V0TmFtZSgpfVwiIGFycml2ZWQgaW4gTmVzdCBcIiR7bnMubmFtZX1cIi5gLCBucyk7XG4gICAgICAgIGpvYi5zZXRUdW5uZWwobnMudHVubmVsKTtcbiAgICAgICAgam9iLnNldE5lc3QobnMpO1xuICAgICAgICBucy50dW5uZWwuYXJyaXZlKGpvYiwgbnMpO1xuICAgIH1cbn0iXX0=
